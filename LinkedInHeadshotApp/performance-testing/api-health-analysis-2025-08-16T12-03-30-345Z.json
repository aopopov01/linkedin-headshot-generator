{
  "timestamp": "2025-08-16T12:03:20.898Z",
  "endpointAnalysis": {
    "health": {
      "endpoint": "/health",
      "attempts": 10,
      "results": [
        {
          "attempt": 1,
          "status": 503,
          "responseTime": 14,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:20.908Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:20.908Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45843548,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 2,
          "status": 503,
          "responseTime": 10,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:21.418Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:21.418Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45844058,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 3,
          "status": 503,
          "responseTime": 3,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:21.925Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:21.925Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45844564,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 4,
          "status": 503,
          "responseTime": 4,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:22.430Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:22.430Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45845070,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 5,
          "status": 503,
          "responseTime": 5,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:22.934Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:22.934Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45845574,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 6,
          "status": 503,
          "responseTime": 3,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:23.439Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:23.439Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45846079,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 7,
          "status": 503,
          "responseTime": 2,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:23.943Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:23.943Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45846583,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 8,
          "status": 503,
          "responseTime": 2,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:24.446Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:24.446Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45847086,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 9,
          "status": 503,
          "responseTime": 3,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:24.949Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:24.949Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45847589,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        },
        {
          "attempt": 10,
          "status": 503,
          "responseTime": 2,
          "data": {
            "status": "unhealthy",
            "timestamp": "2025-08-16T12:03:25.452Z",
            "services": {
              "optimization": {
                "status": "unhealthy",
                "error": "Input buffer contains unsupported image format"
              },
              "integration": {
                "status": "degraded",
                "timestamp": "2025-08-16T12:03:25.452Z",
                "services": {
                  "optimizationEngine": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "platformSpecs": {
                    "status": "healthy",
                    "platforms": 8,
                    "categories": 4,
                    "validSpecifications": 8,
                    "supportedPlatforms": [
                      "linkedin",
                      "instagram",
                      "facebook",
                      "twitter",
                      "youtube",
                      "tiktok",
                      "whatsapp_business",
                      "github"
                    ]
                  },
                  "imageProcessor": {
                    "status": "unhealthy",
                    "error": "Input buffer contains unsupported image format"
                  },
                  "customDimensions": {
                    "status": "healthy",
                    "metrics": {
                      "totalRequests": 0,
                      "successfulProcessing": 0,
                      "failedProcessing": 0,
                      "presetUsage": {},
                      "customDimensionStats": {
                        "averageWidth": 0,
                        "averageHeight": 0,
                        "mostCommonAspectRatio": null
                      },
                      "successRate": "0%",
                      "mostUsedPreset": "none"
                    },
                    "constraints": {
                      "minWidth": 50,
                      "maxWidth": 4096,
                      "minHeight": 50,
                      "maxHeight": 4096,
                      "maxPixels": 16777216,
                      "supportedAspectRatios": {
                        "square": {
                          "ratio": 1,
                          "tolerance": 0.02
                        },
                        "portrait": {
                          "ratio": 0.75,
                          "tolerance": 0.05
                        },
                        "landscape": {
                          "ratio": 1.33,
                          "tolerance": 0.05
                        },
                        "widescreen": {
                          "ratio": 1.78,
                          "tolerance": 0.05
                        },
                        "ultrawide": {
                          "ratio": 2.4,
                          "tolerance": 0.1
                        }
                      },
                      "supportedPresets": 9,
                      "maxTotalPixels": 16777216,
                      "maxTotalPixelsMB": "48.0"
                    },
                    "availablePresets": 9
                  },
                  "batchProcessor": {
                    "status": "healthy",
                    "metrics": {
                      "totalBatches": 0,
                      "successfulBatches": 0,
                      "failedBatches": 0,
                      "totalImages": 0,
                      "successfulImages": 0,
                      "failedImages": 0,
                      "averageBatchTime": 0,
                      "averageImageTime": 0,
                      "concurrencyStats": {
                        "current": 0,
                        "peak": 0,
                        "average": 0
                      },
                      "queueStatus": {
                        "active": 0,
                        "queued": 0,
                        "capacity": 3
                      },
                      "successRate": "0%",
                      "imageSuccessRate": "0%"
                    },
                    "configuration": {
                      "maxConcurrentJobs": 3,
                      "maxBatchSize": 10,
                      "maxQueueSize": 50,
                      "jobTimeout": "300s"
                    },
                    "queueInfo": {
                      "active": [],
                      "queued": [],
                      "capacity": {
                        "maxConcurrent": 3,
                        "maxBatchSize": 10,
                        "maxQueueSize": 50
                      }
                    }
                  },
                  "monitoring": {
                    "status": "healthy",
                    "metrics": {
                      "requests": {
                        "total": 1,
                        "successful": 1,
                        "failed": 0,
                        "inProgress": 0
                      },
                      "performance": {
                        "averageResponseTime": 1,
                        "minResponseTime": 1,
                        "maxResponseTime": 1,
                        "responseTimeHistory": [
                          {
                            "time": 1,
                            "timestamp": 1755345230458
                          }
                        ]
                      },
                      "errors": {
                        "total": 0,
                        "byType": {},
                        "recent": []
                      },
                      "resources": {
                        "memoryUsage": 0.34222966585189407,
                        "cpuUsage": 0,
                        "activeConnections": 0,
                        "queueLength": 0
                      },
                      "business": {
                        "platformUsage": {
                          "2": 1
                        },
                        "stylePreferences": {
                          "professional": 1
                        },
                        "userEngagement": {
                          "totalUsers": 0,
                          "activeUsers": 0,
                          "averageSessionTime": 0
                        }
                      },
                      "system": {
                        "uptime": 1755299957360,
                        "version": "1.0.0",
                        "environment": "development"
                      },
                      "derived": {
                        "errorRate": 0,
                        "successRate": 1,
                        "uptime": 45848092,
                        "requestRate": 0
                      }
                    },
                    "healthStatus": {
                      "status": "healthy",
                      "timestamp": 1755345752308,
                      "components": {
                        "errorRate": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 0.05
                        },
                        "responseTime": {
                          "status": "healthy",
                          "value": 1,
                          "threshold": 30000
                        },
                        "queueLength": {
                          "status": "healthy",
                          "value": 0,
                          "threshold": 20
                        }
                      }
                    },
                    "activeAlerts": 0,
                    "configuration": {
                      "metricsRetention": "30 days",
                      "reportingInterval": "300 seconds",
                      "alertThresholds": {
                        "errorRate": 0.05,
                        "avgResponseTime": 30000,
                        "queueLength": 20,
                        "memoryUsage": 0.9,
                        "cpuUsage": 0.8
                      }
                    }
                  }
                },
                "unhealthyServices": [
                  "optimizationEngine",
                  "imageProcessor"
                ]
              },
              "api": {
                "status": "degraded",
                "metrics": {
                  "totalRequests": 0,
                  "successfulRequests": 0,
                  "failedRequests": 0,
                  "averageResponseTime": 0,
                  "providerStats": {
                    "replicate": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "openai": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "stability": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    },
                    "cloudinary": {
                      "requests": 0,
                      "successes": 0,
                      "failures": 0,
                      "averageTime": 0,
                      "available": false
                    }
                  },
                  "rateLimitHits": 0,
                  "circuitBreakerTrips": 0,
                  "successRate": "0%",
                  "availableProviders": 0,
                  "totalProviders": 4
                },
                "providers": {
                  "replicate": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "openai": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "stability": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  },
                  "cloudinary": {
                    "status": "unavailable",
                    "reason": "Missing configuration"
                  }
                },
                "configuration": {
                  "timeout": "30s",
                  "retryAttempts": 3,
                  "circuitBreakerThreshold": 5
                }
              }
            },
            "environment": "development"
          },
          "success": false
        }
      ],
      "patterns": {
        "statusDistribution": {
          "503": 10
        },
        "successRate": 0,
        "averageResponseTime": 4.8,
        "consistentFailure": true,
        "intermittentFailure": false
      },
      "issues": [
        "Health endpoint consistently returning 503 (Service Unavailable)"
      ]
    },
    "platforms": {
      "endpoint": "/api/v1/platforms",
      "name": "Platforms",
      "attempts": 5,
      "responses": [
        {
          "attempt": 1,
          "status": 200,
          "responseTime": 4,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 2,
          "status": 200,
          "responseTime": 5,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 3,
          "status": 200,
          "responseTime": 6,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 4,
          "status": 200,
          "responseTime": 3,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 5,
          "status": 200,
          "responseTime": 2,
          "success": true,
          "dataReceived": true
        }
      ],
      "successRate": 100,
      "averageResponseTime": 4,
      "commonErrors": [],
      "statusCodes": {
        "200": 5
      }
    },
    "styles": {
      "endpoint": "/api/v1/styles",
      "name": "Styles",
      "attempts": 5,
      "responses": [
        {
          "attempt": 1,
          "status": 200,
          "responseTime": 3,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 2,
          "status": 200,
          "responseTime": 2,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 3,
          "status": 200,
          "responseTime": 2,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 4,
          "status": 200,
          "responseTime": 2,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 5,
          "status": 200,
          "responseTime": 4,
          "success": true,
          "dataReceived": true
        }
      ],
      "successRate": 100,
      "averageResponseTime": 2.6,
      "commonErrors": [],
      "statusCodes": {
        "200": 5
      }
    },
    "metrics": {
      "endpoint": "/api/v1/metrics",
      "name": "Metrics",
      "attempts": 5,
      "responses": [
        {
          "attempt": 1,
          "status": 200,
          "responseTime": 3,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 2,
          "status": 200,
          "responseTime": 1,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 3,
          "status": 200,
          "responseTime": 1,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 4,
          "status": 200,
          "responseTime": 4,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 5,
          "status": 200,
          "responseTime": 4,
          "success": true,
          "dataReceived": true
        }
      ],
      "successRate": 100,
      "averageResponseTime": 2.6,
      "commonErrors": [],
      "statusCodes": {
        "200": 5
      }
    },
    "optimize": {
      "endpoint": "/api/v1/optimize",
      "name": "Optimize",
      "attempts": 3,
      "responses": [
        {
          "attempt": 1,
          "status": 200,
          "responseTime": 53,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 2,
          "status": 200,
          "responseTime": 36,
          "success": true,
          "dataReceived": true
        },
        {
          "attempt": 3,
          "status": 200,
          "responseTime": 35,
          "success": true,
          "dataReceived": true
        }
      ],
      "successRate": 100,
      "averageResponseTime": 41.333333333333336,
      "commonErrors": [],
      "statusCodes": {
        "200": 3
      }
    },
    "cost_estimation": {
      "endpoint": "/api/v1/estimate-cost",
      "name": "Cost Estimation",
      "attempts": 3,
      "responses": [
        {
          "attempt": 1,
          "status": 500,
          "responseTime": 2,
          "success": false,
          "dataReceived": true
        },
        {
          "attempt": 2,
          "status": 500,
          "responseTime": 4,
          "success": false,
          "dataReceived": true
        },
        {
          "attempt": 3,
          "status": 500,
          "responseTime": 2,
          "success": false,
          "dataReceived": true
        }
      ],
      "successRate": 0,
      "averageResponseTime": 2.6666666666666665,
      "commonErrors": [],
      "statusCodes": {
        "500": 3
      }
    }
  },
  "healthStatus": {
    "lastCheckStatus": 503,
    "lastCheckData": {
      "status": "unhealthy",
      "timestamp": "2025-08-16T12:03:30.343Z",
      "services": {
        "optimization": {
          "status": "unhealthy",
          "error": "Input buffer contains unsupported image format"
        },
        "integration": {
          "status": "degraded",
          "timestamp": "2025-08-16T12:03:30.343Z",
          "services": {
            "optimizationEngine": {
              "status": "unhealthy",
              "error": "Input buffer contains unsupported image format"
            },
            "platformSpecs": {
              "status": "healthy",
              "platforms": 8,
              "categories": 4,
              "validSpecifications": 8,
              "supportedPlatforms": [
                "linkedin",
                "instagram",
                "facebook",
                "twitter",
                "youtube",
                "tiktok",
                "whatsapp_business",
                "github"
              ]
            },
            "imageProcessor": {
              "status": "unhealthy",
              "error": "Input buffer contains unsupported image format"
            },
            "customDimensions": {
              "status": "healthy",
              "metrics": {
                "totalRequests": 0,
                "successfulProcessing": 0,
                "failedProcessing": 0,
                "presetUsage": {},
                "customDimensionStats": {
                  "averageWidth": 0,
                  "averageHeight": 0,
                  "mostCommonAspectRatio": null
                },
                "successRate": "0%",
                "mostUsedPreset": "none"
              },
              "constraints": {
                "minWidth": 50,
                "maxWidth": 4096,
                "minHeight": 50,
                "maxHeight": 4096,
                "maxPixels": 16777216,
                "supportedAspectRatios": {
                  "square": {
                    "ratio": 1,
                    "tolerance": 0.02
                  },
                  "portrait": {
                    "ratio": 0.75,
                    "tolerance": 0.05
                  },
                  "landscape": {
                    "ratio": 1.33,
                    "tolerance": 0.05
                  },
                  "widescreen": {
                    "ratio": 1.78,
                    "tolerance": 0.05
                  },
                  "ultrawide": {
                    "ratio": 2.4,
                    "tolerance": 0.1
                  }
                },
                "supportedPresets": 9,
                "maxTotalPixels": 16777216,
                "maxTotalPixelsMB": "48.0"
              },
              "availablePresets": 9
            },
            "batchProcessor": {
              "status": "healthy",
              "metrics": {
                "totalBatches": 0,
                "successfulBatches": 0,
                "failedBatches": 0,
                "totalImages": 0,
                "successfulImages": 0,
                "failedImages": 0,
                "averageBatchTime": 0,
                "averageImageTime": 0,
                "concurrencyStats": {
                  "current": 0,
                  "peak": 0,
                  "average": 0
                },
                "queueStatus": {
                  "active": 0,
                  "queued": 0,
                  "capacity": 3
                },
                "successRate": "0%",
                "imageSuccessRate": "0%"
              },
              "configuration": {
                "maxConcurrentJobs": 3,
                "maxBatchSize": 10,
                "maxQueueSize": 50,
                "jobTimeout": "300s"
              },
              "queueInfo": {
                "active": [],
                "queued": [],
                "capacity": {
                  "maxConcurrent": 3,
                  "maxBatchSize": 10,
                  "maxQueueSize": 50
                }
              }
            },
            "monitoring": {
              "status": "healthy",
              "metrics": {
                "requests": {
                  "total": 4,
                  "successful": 4,
                  "failed": 0,
                  "inProgress": 0
                },
                "performance": {
                  "averageResponseTime": 28,
                  "minResponseTime": 1,
                  "maxResponseTime": 46,
                  "responseTimeHistory": [
                    {
                      "time": 33,
                      "timestamp": 1755345809531
                    },
                    {
                      "time": 32,
                      "timestamp": 1755345809296
                    },
                    {
                      "time": 46,
                      "timestamp": 1755345809060
                    },
                    {
                      "time": 1,
                      "timestamp": 1755345230458
                    }
                  ]
                },
                "errors": {
                  "total": 0,
                  "byType": {},
                  "recent": []
                },
                "resources": {
                  "memoryUsage": 0.40245798486276746,
                  "cpuUsage": 0.06,
                  "activeConnections": 0,
                  "queueLength": 0
                },
                "business": {
                  "platformUsage": {
                    "2": 4
                  },
                  "stylePreferences": {
                    "professional": 4
                  },
                  "userEngagement": {
                    "totalUsers": 0,
                    "activeUsers": 0,
                    "averageSessionTime": 0
                  }
                },
                "system": {
                  "uptime": 1755299957360,
                  "version": "1.0.0",
                  "environment": "development"
                },
                "derived": {
                  "errorRate": 0,
                  "successRate": 1,
                  "uptime": 45852983,
                  "requestRate": 0.6
                }
              },
              "healthStatus": {
                "status": "healthy",
                "timestamp": 1755345752308,
                "components": {
                  "errorRate": {
                    "status": "healthy",
                    "value": 0,
                    "threshold": 0.05
                  },
                  "responseTime": {
                    "status": "healthy",
                    "value": 1,
                    "threshold": 30000
                  },
                  "queueLength": {
                    "status": "healthy",
                    "value": 0,
                    "threshold": 20
                  }
                }
              },
              "activeAlerts": 0,
              "configuration": {
                "metricsRetention": "30 days",
                "reportingInterval": "300 seconds",
                "alertThresholds": {
                  "errorRate": 0.05,
                  "avgResponseTime": 30000,
                  "queueLength": 20,
                  "memoryUsage": 0.9,
                  "cpuUsage": 0.8
                }
              }
            }
          },
          "unhealthyServices": [
            "optimizationEngine",
            "imageProcessor"
          ]
        },
        "api": {
          "status": "degraded",
          "metrics": {
            "totalRequests": 0,
            "successfulRequests": 0,
            "failedRequests": 0,
            "averageResponseTime": 0,
            "providerStats": {
              "replicate": {
                "requests": 0,
                "successes": 0,
                "failures": 0,
                "averageTime": 0,
                "available": false
              },
              "openai": {
                "requests": 0,
                "successes": 0,
                "failures": 0,
                "averageTime": 0,
                "available": false
              },
              "stability": {
                "requests": 0,
                "successes": 0,
                "failures": 0,
                "averageTime": 0,
                "available": false
              },
              "cloudinary": {
                "requests": 0,
                "successes": 0,
                "failures": 0,
                "averageTime": 0,
                "available": false
              }
            },
            "rateLimitHits": 0,
            "circuitBreakerTrips": 0,
            "successRate": "0%",
            "availableProviders": 0,
            "totalProviders": 4
          },
          "providers": {
            "replicate": {
              "status": "unavailable",
              "reason": "Missing configuration"
            },
            "openai": {
              "status": "unavailable",
              "reason": "Missing configuration"
            },
            "stability": {
              "status": "unavailable",
              "reason": "Missing configuration"
            },
            "cloudinary": {
              "status": "unavailable",
              "reason": "Missing configuration"
            }
          },
          "configuration": {
            "timeout": "30s",
            "retryAttempts": 3,
            "circuitBreakerThreshold": 5
          }
        }
      },
      "environment": "development"
    },
    "systemStatus": "unhealthy",
    "services": {
      "optimization": {
        "status": "unhealthy",
        "error": "Input buffer contains unsupported image format"
      },
      "integration": {
        "status": "degraded",
        "timestamp": "2025-08-16T12:03:30.343Z",
        "services": {
          "optimizationEngine": {
            "status": "unhealthy",
            "error": "Input buffer contains unsupported image format"
          },
          "platformSpecs": {
            "status": "healthy",
            "platforms": 8,
            "categories": 4,
            "validSpecifications": 8,
            "supportedPlatforms": [
              "linkedin",
              "instagram",
              "facebook",
              "twitter",
              "youtube",
              "tiktok",
              "whatsapp_business",
              "github"
            ]
          },
          "imageProcessor": {
            "status": "unhealthy",
            "error": "Input buffer contains unsupported image format"
          },
          "customDimensions": {
            "status": "healthy",
            "metrics": {
              "totalRequests": 0,
              "successfulProcessing": 0,
              "failedProcessing": 0,
              "presetUsage": {},
              "customDimensionStats": {
                "averageWidth": 0,
                "averageHeight": 0,
                "mostCommonAspectRatio": null
              },
              "successRate": "0%",
              "mostUsedPreset": "none"
            },
            "constraints": {
              "minWidth": 50,
              "maxWidth": 4096,
              "minHeight": 50,
              "maxHeight": 4096,
              "maxPixels": 16777216,
              "supportedAspectRatios": {
                "square": {
                  "ratio": 1,
                  "tolerance": 0.02
                },
                "portrait": {
                  "ratio": 0.75,
                  "tolerance": 0.05
                },
                "landscape": {
                  "ratio": 1.33,
                  "tolerance": 0.05
                },
                "widescreen": {
                  "ratio": 1.78,
                  "tolerance": 0.05
                },
                "ultrawide": {
                  "ratio": 2.4,
                  "tolerance": 0.1
                }
              },
              "supportedPresets": 9,
              "maxTotalPixels": 16777216,
              "maxTotalPixelsMB": "48.0"
            },
            "availablePresets": 9
          },
          "batchProcessor": {
            "status": "healthy",
            "metrics": {
              "totalBatches": 0,
              "successfulBatches": 0,
              "failedBatches": 0,
              "totalImages": 0,
              "successfulImages": 0,
              "failedImages": 0,
              "averageBatchTime": 0,
              "averageImageTime": 0,
              "concurrencyStats": {
                "current": 0,
                "peak": 0,
                "average": 0
              },
              "queueStatus": {
                "active": 0,
                "queued": 0,
                "capacity": 3
              },
              "successRate": "0%",
              "imageSuccessRate": "0%"
            },
            "configuration": {
              "maxConcurrentJobs": 3,
              "maxBatchSize": 10,
              "maxQueueSize": 50,
              "jobTimeout": "300s"
            },
            "queueInfo": {
              "active": [],
              "queued": [],
              "capacity": {
                "maxConcurrent": 3,
                "maxBatchSize": 10,
                "maxQueueSize": 50
              }
            }
          },
          "monitoring": {
            "status": "healthy",
            "metrics": {
              "requests": {
                "total": 4,
                "successful": 4,
                "failed": 0,
                "inProgress": 0
              },
              "performance": {
                "averageResponseTime": 28,
                "minResponseTime": 1,
                "maxResponseTime": 46,
                "responseTimeHistory": [
                  {
                    "time": 33,
                    "timestamp": 1755345809531
                  },
                  {
                    "time": 32,
                    "timestamp": 1755345809296
                  },
                  {
                    "time": 46,
                    "timestamp": 1755345809060
                  },
                  {
                    "time": 1,
                    "timestamp": 1755345230458
                  }
                ]
              },
              "errors": {
                "total": 0,
                "byType": {},
                "recent": []
              },
              "resources": {
                "memoryUsage": 0.40245798486276746,
                "cpuUsage": 0.06,
                "activeConnections": 0,
                "queueLength": 0
              },
              "business": {
                "platformUsage": {
                  "2": 4
                },
                "stylePreferences": {
                  "professional": 4
                },
                "userEngagement": {
                  "totalUsers": 0,
                  "activeUsers": 0,
                  "averageSessionTime": 0
                }
              },
              "system": {
                "uptime": 1755299957360,
                "version": "1.0.0",
                "environment": "development"
              },
              "derived": {
                "errorRate": 0,
                "successRate": 1,
                "uptime": 45852983,
                "requestRate": 0.6
              }
            },
            "healthStatus": {
              "status": "healthy",
              "timestamp": 1755345752308,
              "components": {
                "errorRate": {
                  "status": "healthy",
                  "value": 0,
                  "threshold": 0.05
                },
                "responseTime": {
                  "status": "healthy",
                  "value": 1,
                  "threshold": 30000
                },
                "queueLength": {
                  "status": "healthy",
                  "value": 0,
                  "threshold": 20
                }
              }
            },
            "activeAlerts": 0,
            "configuration": {
              "metricsRetention": "30 days",
              "reportingInterval": "300 seconds",
              "alertThresholds": {
                "errorRate": 0.05,
                "avgResponseTime": 30000,
                "queueLength": 20,
                "memoryUsage": 0.9,
                "cpuUsage": 0.8
              }
            }
          }
        },
        "unhealthyServices": [
          "optimizationEngine",
          "imageProcessor"
        ]
      },
      "api": {
        "status": "degraded",
        "metrics": {
          "totalRequests": 0,
          "successfulRequests": 0,
          "failedRequests": 0,
          "averageResponseTime": 0,
          "providerStats": {
            "replicate": {
              "requests": 0,
              "successes": 0,
              "failures": 0,
              "averageTime": 0,
              "available": false
            },
            "openai": {
              "requests": 0,
              "successes": 0,
              "failures": 0,
              "averageTime": 0,
              "available": false
            },
            "stability": {
              "requests": 0,
              "successes": 0,
              "failures": 0,
              "averageTime": 0,
              "available": false
            },
            "cloudinary": {
              "requests": 0,
              "successes": 0,
              "failures": 0,
              "averageTime": 0,
              "available": false
            }
          },
          "rateLimitHits": 0,
          "circuitBreakerTrips": 0,
          "successRate": "0%",
          "availableProviders": 0,
          "totalProviders": 4
        },
        "providers": {
          "replicate": {
            "status": "unavailable",
            "reason": "Missing configuration"
          },
          "openai": {
            "status": "unavailable",
            "reason": "Missing configuration"
          },
          "stability": {
            "status": "unavailable",
            "reason": "Missing configuration"
          },
          "cloudinary": {
            "status": "unavailable",
            "reason": "Missing configuration"
          }
        },
        "configuration": {
          "timeout": "30s",
          "retryAttempts": 3,
          "circuitBreakerThreshold": 5
        }
      }
    },
    "environment": "development",
    "serviceIssues": [
      {
        "service": "optimization",
        "status": "unhealthy",
        "issue": "Unknown issue"
      },
      {
        "service": "integration",
        "status": "degraded",
        "issue": "Unknown issue"
      },
      {
        "service": "api",
        "status": "degraded",
        "issue": "Unknown issue"
      }
    ]
  },
  "performanceMetrics": {},
  "criticalIssues": [
    {
      "severity": "CRITICAL",
      "category": "System Health",
      "issue": "Health endpoint failing consistently",
      "impact": "System monitoring and load balancer health checks will fail",
      "details": "Success rate: 0%"
    },
    {
      "severity": "HIGH",
      "category": "Service Degradation",
      "issue": "Multiple services reporting degraded status",
      "impact": "Reduced system performance and reliability",
      "details": "optimization: unhealthy, integration: degraded, api: degraded"
    }
  ],
  "recommendations": [
    {
      "priority": "IMMEDIATE",
      "category": "Health Monitoring",
      "action": "Fix health endpoint reliability",
      "steps": [
        "1. Check all service dependencies (database, Redis, external APIs)",
        "2. Verify network connectivity between services",
        "3. Review health check timeout configurations",
        "4. Add retry logic to health check service calls",
        "5. Implement circuit breaker pattern for failing services"
      ],
      "expectedOutcome": "Health endpoint returns consistent 200 responses"
    },
    {
      "priority": "HIGH",
      "category": "Service Recovery",
      "action": "Resolve optimization service degradation",
      "steps": [
        "1. Check optimization service logs for specific errors",
        "2. Verify service dependencies and configurations",
        "3. Test service endpoints individually",
        "4. Restart service if necessary",
        "5. Monitor service recovery"
      ],
      "expectedOutcome": "optimization service returns to healthy status"
    },
    {
      "priority": "HIGH",
      "category": "Service Recovery",
      "action": "Resolve integration service degradation",
      "steps": [
        "1. Check integration service logs for specific errors",
        "2. Verify service dependencies and configurations",
        "3. Test service endpoints individually",
        "4. Restart service if necessary",
        "5. Monitor service recovery"
      ],
      "expectedOutcome": "integration service returns to healthy status"
    },
    {
      "priority": "HIGH",
      "category": "Service Recovery",
      "action": "Resolve api service degradation",
      "steps": [
        "1. Check api service logs for specific errors",
        "2. Verify service dependencies and configurations",
        "3. Test service endpoints individually",
        "4. Restart service if necessary",
        "5. Monitor service recovery"
      ],
      "expectedOutcome": "api service returns to healthy status"
    },
    {
      "priority": "MEDIUM",
      "category": "Performance Optimization",
      "action": "Implement comprehensive performance improvements",
      "steps": [
        "1. Add Redis caching for platform specifications and styles",
        "2. Implement connection pooling for database and external APIs",
        "3. Add request compression and response caching",
        "4. Optimize database queries with proper indexing",
        "5. Implement queue-based processing for image operations"
      ],
      "expectedOutcome": "All endpoints respond under 1000ms consistently"
    },
    {
      "priority": "LOW",
      "category": "Monitoring Enhancement",
      "action": "Enhance system monitoring and alerting",
      "steps": [
        "1. Add detailed application performance monitoring",
        "2. Implement real-time error tracking and alerting",
        "3. Create performance dashboards for key metrics",
        "4. Set up automated health check monitoring",
        "5. Add user experience monitoring"
      ],
      "expectedOutcome": "Proactive issue detection and faster resolution"
    }
  ]
}